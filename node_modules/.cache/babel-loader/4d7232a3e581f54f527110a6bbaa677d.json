{"ast":null,"code":"var _jsxFileName = \"/Users/sammi/Desktop/TherapyGo/src/pages/StaffPage/StaffPage.js\";\nimport React from 'react';\nimport './StaffPage.scss';\nimport { Row, Col } from 'react-bootstrap';\nimport axios from 'axios';\nimport MuiButton from '@material-ui/core/Button';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { withStyles, ThemeProvider } from '@material-ui/styles';\nimport Swal from 'sweetalert2';\nimport NavBar from '../../components/NavigationBar/NavigationBar';\nimport TableTemplate from './Components/table/table';\nimport config from '../../config/index';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst url = `${config.baseUrl.dev}`;\nconst Button = withStyles(theme => ({\n  root: props => props.color === 'default' && props.variant === 'contained' ? {\n    color: theme.palette.default.contrastText,\n    backgroundColor: theme.palette.default.main,\n    '&:hover': {\n      backgroundColor: theme.palette.default.dark,\n      '@media (hover: none)': {\n        backgroundColor: theme.palette.default.main\n      }\n    }\n  } : {}\n}))(MuiButton);\nconst theme = createMuiTheme();\ntheme.palette.default = theme.palette.augmentColor({\n  main: '#009688'\n});\n\nclass StaffPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      employees: []\n    };\n\n    this.componentDidMount = () => {\n      axios.get(`${url}/getStaff`).then(response => {\n        if (response.status === 200) {\n          this.setState({\n            employees: response.data\n          });\n        } else {\n          Swal.fire('Fail To Get Staff List', 'There was an error while getting the staff list. Please try again later!', 'error');\n        }\n      }).catch(error => {\n        throw new Error(`Staff Page - fetch staff list fail\\n${error}`);\n      });\n    };\n\n    this.changeHandler = prop => this.setState({\n      [prop.name]: prop.value\n    });\n\n    this.openEditFormHandler = id => {\n      this.props.history.replace(`/edit/${id}`);\n    };\n\n    this.openAddFormHandler = () => {\n      window.location.href = '/add';\n    };\n  }\n\n  deleteEmployee(id) {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    }).then(result => {\n      if (result.isConfirmed) {\n        axios.delete(`${url}/therapist/${id}`).then(res => {\n          if (res.status === 200) {\n            this.setState({\n              employees: this.state.employees.filter(el => el.id !== id)\n            });\n            Swal.fire('Staff Deleted!', 'The staff has been successfully deleted.', 'success');\n          } else {\n            Swal.fire('Staff Not Deleted!', 'This staff is assigned to at least an appointment. Please reassign and try again.', 'error');\n          }\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      employees\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"staff\",\n        children: [/*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            className: \"staff_addButton\",\n            children: /*#__PURE__*/_jsxDEV(ThemeProvider, {\n              theme: theme,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                color: \"default\",\n                onClick: this.openAddFormHandler.bind(this),\n                children: \"Add New Staff\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Row, {\n          children: /*#__PURE__*/_jsxDEV(Col, {\n            className: \"staff_staffList-content\",\n            children: /*#__PURE__*/_jsxDEV(TableTemplate, {\n              employees: employees,\n              deleteEmployee: this.deleteEmployee.bind(this),\n              openEditForm: this.openEditFormHandler.bind(this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default StaffPage;","map":{"version":3,"sources":["/Users/sammi/Desktop/TherapyGo/src/pages/StaffPage/StaffPage.js"],"names":["React","Row","Col","axios","MuiButton","createMuiTheme","withStyles","ThemeProvider","Swal","NavBar","TableTemplate","config","url","baseUrl","dev","Button","theme","root","props","color","variant","palette","default","contrastText","backgroundColor","main","dark","augmentColor","StaffPage","Component","state","employees","componentDidMount","get","then","response","status","setState","data","fire","catch","error","Error","changeHandler","prop","name","value","openEditFormHandler","id","history","replace","openAddFormHandler","window","location","href","deleteEmployee","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","result","isConfirmed","delete","res","filter","el","render","bind"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './StaffPage.scss';\nimport { Row, Col } from 'react-bootstrap';\nimport axios from 'axios';\nimport MuiButton from '@material-ui/core/Button';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { withStyles, ThemeProvider } from '@material-ui/styles';\nimport Swal from 'sweetalert2';\nimport NavBar from '../../components/NavigationBar/NavigationBar';\nimport TableTemplate from './Components/table/table';\nimport config from '../../config/index';\n\nconst url = `${config.baseUrl.dev}`;\n\nconst Button = withStyles((theme) => ({\n  root: (props) =>\n    props.color === 'default' && props.variant === 'contained'\n      ? {\n          color: theme.palette.default.contrastText,\n          backgroundColor: theme.palette.default.main,\n          '&:hover': {\n            backgroundColor: theme.palette.default.dark,\n            '@media (hover: none)': {\n              backgroundColor: theme.palette.default.main,\n            },\n          },\n        }\n      : {},\n}))(MuiButton);\n\nconst theme = createMuiTheme();\n\ntheme.palette.default = theme.palette.augmentColor({\n  main: '#009688',\n});\n\nclass StaffPage extends React.Component {\n  state = {\n    employees: [],\n  };\n\n  componentDidMount = () => {\n    axios\n      .get(`${url}/getStaff`)\n      .then((response) => {\n        if (response.status === 200) {\n          this.setState({ employees: response.data });\n        } else {\n          Swal.fire(\n            'Fail To Get Staff List',\n            'There was an error while getting the staff list. Please try again later!',\n            'error',\n          );\n        }\n      })\n      .catch((error) => {\n        throw new Error(`Staff Page - fetch staff list fail\\n${error}`);\n      });\n  };\n\n  changeHandler = (prop) => this.setState({ [prop.name]: prop.value });\n\n  openEditFormHandler = (id) => {\n    this.props.history.replace(`/edit/${id}`);\n  };\n\n  openAddFormHandler = () => {\n    window.location.href = '/add';\n  };\n\n  deleteEmployee(id) {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: \"You won't be able to revert this!\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!',\n    }).then((result) => {\n      if (result.isConfirmed) {\n        axios.delete(`${url}/therapist/${id}`).then((res) => {\n          if (res.status === 200) {\n            this.setState({\n              employees: this.state.employees.filter((el) => el.id !== id),\n            });\n            Swal.fire('Staff Deleted!', 'The staff has been successfully deleted.', 'success');\n          } else {\n            Swal.fire(\n              'Staff Not Deleted!',\n              'This staff is assigned to at least an appointment. Please reassign and try again.',\n              'error',\n            );\n          }\n        });\n      }\n    });\n  }\n\n  render() {\n    const { employees } = this.state;\n    return (\n      <div>\n        <NavBar />\n        <div className=\"staff\">\n          <Row>\n            <Col className=\"staff_addButton\">\n              <ThemeProvider theme={theme}>\n                <Button\n                  variant=\"contained\"\n                  color=\"default\"\n                  onClick={this.openAddFormHandler.bind(this)}\n                >\n                  Add New Staff\n                </Button>\n              </ThemeProvider>\n            </Col>\n          </Row>\n          <Row>\n            <Col className=\"staff_staffList-content\">\n              <TableTemplate\n                employees={employees}\n                deleteEmployee={this.deleteEmployee.bind(this)}\n                openEditForm={this.openEditFormHandler.bind(this)}\n              />\n            </Col>\n          </Row>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default StaffPage;\n"]},"metadata":{},"sourceType":"module"}