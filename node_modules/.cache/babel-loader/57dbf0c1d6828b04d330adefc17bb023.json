{"ast":null,"code":"var _jsxFileName = \"/Users/sammi/Desktop/TherapyGo/src/components/EditAppointment/EditAppointmentForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { Button, Grid, IconButton, TextField, FormControl, FormGroup, Checkbox, FormLabel, FormControlLabel } from '@material-ui/core';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport closeIcon from \"../../assets/images/x-circle.svg\";\nimport Select from './Select';\nimport { getTherapist, getBodyPartsAndDurationData, deleteService } from '../../api/updateAppointment-api';\nimport { getDefaultPrice, updateSubmit } from '../../api/newAppointment-api';\nimport './EditAppointmentForm.scss';\nimport BookingConfirm from '../../pages/WorksheetPage/Components/Worksheet/Components/BookingConfirm';\nimport DeleteConfirm from '../../pages/WorksheetPage/Components/Worksheet/Components/DeleteConfirm';\nimport { theme } from '../../colour';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst EditAppointmentForm = props => {\n  _s();\n\n  const {\n    startDate,\n    startTime,\n    roomId,\n    refreshPage,\n    serviceId,\n    bodyParts,\n    serviceType,\n    therapist,\n    mobileNumber,\n    customerName,\n    treatmentPrice,\n    paymentType\n  } = props;\n  const initialValues = {\n    date: startDate,\n    time: startTime,\n    roomName: roomId,\n    firstName: customerName,\n    mobile: mobileNumber,\n    treatmentStyle: serviceType,\n    bodyPartsAndDuration: bodyParts,\n    therapistName: therapist,\n    paymentAmount: treatmentPrice,\n    paymentMethod: paymentType\n  };\n  const [values, setValues] = useState(initialValues);\n  const [therapistOptions, setTherapistOptions] = useState([therapist]);\n  const [optionsOfBodyPartsAndDuration, setOptionsOfBodyPartsAndDuration] = useState([bodyParts]);\n  const optionsOfTreatmentStyle = ['Dry', 'Oil', 'Deep Tissue'];\n  const {\n    date,\n    time,\n    roomName,\n    firstName,\n    mobile,\n    treatmentStyle,\n    bodyPartsAndDuration,\n    therapistName,\n    paymentAmount,\n    paymentMethod\n  } = values;\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  const fetchTherapist = () => {\n    getTherapist(date, time, bodyPartsAndDuration, serviceId).then(data => {\n      data.push(therapist.toString());\n      setTherapistOptions([...data]);\n    });\n  };\n\n  const fetchBodyParts = () => {\n    getBodyPartsAndDurationData(date, time, therapistName, roomName, serviceId).then(list => setOptionsOfBodyPartsAndDuration([...list]));\n  };\n\n  const fetchPrice = () => {\n    let treatmentBodyPart = '';\n    let treatmentDuration = '';\n\n    if (bodyPartsAndDuration && bodyPartsAndDuration !== 'None') {\n      const parts = bodyPartsAndDuration.split('--');\n      treatmentBodyPart = parts[0];\n      treatmentDuration = parts[1].split(' ')[0];\n      getDefaultPrice(treatmentBodyPart, treatmentDuration, treatmentStyle).then(price => setValues({ ...values,\n        paymentAmount: price\n      }));\n    }\n  };\n\n  const handleCheck = e => {\n    let data = new Set(paymentMethod);\n\n    if (e.target.checked) {\n      data.add(e.target.value);\n    } else {\n      data.delete(e.target.value);\n    }\n\n    data = [...data];\n    setValues({ ...values,\n      paymentMethod: data\n    });\n  };\n\n  const changeVisibility = () => {\n    ReactDOM.unmountComponentAtNode(document.getElementById('appointPage'));\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const newTime = values.time.slice(0, 5);\n    const newValues = { ...values,\n      time: newTime\n    };\n    updateSubmit(newValues, serviceId).then(res => {\n      if (res.status === 200) {\n        refreshPage({\n          date: startDate\n        });\n        ReactDOM.unmountComponentAtNode(document.getElementById('appointPage'));\n        ReactDOM.hydrate( /*#__PURE__*/_jsxDEV(BookingConfirm, {\n          data: newValues\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 26\n        }, this), document.getElementById('alertPage'));\n        setTimeout(() => ReactDOM.unmountComponentAtNode(document.getElementById('alertPage')), 1000);\n      }\n    });\n  };\n\n  const handleDelete = e => {\n    e.preventDefault();\n    const role = 'staff';\n    deleteService(serviceId, role).then(res => {\n      if (res.status === 200) {\n        refreshPage({\n          date: startDate\n        });\n        ReactDOM.unmountComponentAtNode(document.getElementById('appointPage'));\n        ReactDOM.hydrate( /*#__PURE__*/_jsxDEV(DeleteConfirm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 26\n        }, this), document.getElementById('alertPage'));\n        setTimeout(() => ReactDOM.unmountComponentAtNode(document.getElementById('alertPage')), 1000);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popupContainer\",\n    children: /*#__PURE__*/_jsxDEV(ThemeProvider, {\n      theme: theme,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popupContainer-header\",\n        children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Edit Appointment\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          className: \"IconButton\",\n          size: \"small\",\n          onClick: changeVisibility,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: closeIcon,\n            alt: \"close button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"popupContainer-body\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"popupContainer-body__form\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popupContainer-body__form--01\",\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              direction: \"row\",\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  label: \"Date\",\n                  type: \"date\",\n                  name: \"date\",\n                  value: date,\n                  onChange: handleChange,\n                  variant: \"outlined\",\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  label: \"Time\",\n                  name: \"time\",\n                  type: \"time\",\n                  value: time,\n                  onChange: handleChange,\n                  variant: \"outlined\",\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popupContainer-body__form--02\",\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              direction: \"row\",\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 4,\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  fullWidth: true,\n                  children: /*#__PURE__*/_jsxDEV(TextField, {\n                    label: \"Room\",\n                    name: \"roomName\",\n                    value: roomName,\n                    disabled: true,\n                    onChange: handleChange,\n                    variant: \"outlined\",\n                    fullWidth: true\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 4,\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  fullWidth: true,\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    label: \"Service Type\",\n                    name: \"treatmentStyle\",\n                    value: treatmentStyle,\n                    onChange: handleChange,\n                    options: optionsOfTreatmentStyle\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 215,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 214,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 4,\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  fullWidth: true,\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    label: \"Body Parts\",\n                    name: \"bodyPartsAndDuration\",\n                    value: bodyPartsAndDuration,\n                    onChange: handleChange,\n                    onFocus: fetchBodyParts,\n                    onBlur: fetchPrice,\n                    options: optionsOfBodyPartsAndDuration\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 225,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popupContainer-body__form--03\",\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              direction: \"row\",\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(FormControl, {\n                  fullWidth: true,\n                  children: /*#__PURE__*/_jsxDEV(Select, {\n                    label: \"Therapist\",\n                    name: \"therapistName\",\n                    value: therapistName,\n                    onFocus: fetchTherapist,\n                    onChange: handleChange,\n                    options: therapistOptions\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 245,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  label: \"Price\",\n                  name: \"amount\",\n                  value: paymentAmount,\n                  disabled: true,\n                  onChange: handleChange,\n                  variant: \"outlined\",\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popupContainer-body__form--04\",\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              direction: \"row\",\n              spacing: 2,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  label: \"Customer Name\",\n                  name: \"firstName\",\n                  value: firstName,\n                  onChange: handleChange,\n                  variant: \"outlined\",\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  label: \"Mobile Number\",\n                  name: \"mobile\",\n                  value: mobile,\n                  onChange: handleChange,\n                  variant: \"outlined\",\n                  fullWidth: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"popupContainer-bottom\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popupContainer-bottom--01\",\n            children: /*#__PURE__*/_jsxDEV(FormControl, {\n              children: [/*#__PURE__*/_jsxDEV(FormLabel, {\n                children: /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Payment Method\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n                row: true,\n                children: [/*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    value: \"card\",\n                    checked: !!paymentMethod.includes('card'),\n                    onChange: handleCheck,\n                    name: \"card\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 304,\n                    columnNumber: 23\n                  }, this),\n                  label: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"Card\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 313,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 312,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    value: \"cash\",\n                    checked: !!paymentMethod.includes('cash'),\n                    onChange: handleCheck,\n                    name: \"cash\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 319,\n                    columnNumber: 23\n                  }, this),\n                  label: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"Cash\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 328,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 327,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    value: \"healthFund\",\n                    checked: !!paymentMethod.includes('healthFund'),\n                    onChange: handleCheck,\n                    name: \"healthFund\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 23\n                  }, this),\n                  label: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"Health Fund\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 343,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    value: \"voucher\",\n                    checked: !!paymentMethod.includes('voucher'),\n                    onChange: handleCheck,\n                    name: \"voucher\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 23\n                  }, this),\n                  label: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"Voucher\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 358,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 357,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 347,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                  control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                    value: \"discount\",\n                    checked: !!paymentMethod.includes('discount'),\n                    onChange: handleCheck,\n                    name: \"discount\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 364,\n                    columnNumber: 23\n                  }, this),\n                  label: /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: /*#__PURE__*/_jsxDEV(\"h4\", {\n                      children: \"Discount\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 373,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 372,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 362,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"popupContainer-bottom--02\",\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              type: \"submit\",\n              onClick: handleDelete,\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"primary\",\n              type: \"submit\",\n              onClick: handleSubmit,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n};\n\n_s(EditAppointmentForm, \"UWA9SaKI/6hEYAZzxfe9duCx7eg=\");\n\n_c = EditAppointmentForm;\nexport default EditAppointmentForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"EditAppointmentForm\");","map":{"version":3,"sources":["/Users/sammi/Desktop/TherapyGo/src/components/EditAppointment/EditAppointmentForm.js"],"names":["React","useState","ReactDOM","Button","Grid","IconButton","TextField","FormControl","FormGroup","Checkbox","FormLabel","FormControlLabel","ThemeProvider","Select","getTherapist","getBodyPartsAndDurationData","deleteService","getDefaultPrice","updateSubmit","BookingConfirm","DeleteConfirm","theme","EditAppointmentForm","props","startDate","startTime","roomId","refreshPage","serviceId","bodyParts","serviceType","therapist","mobileNumber","customerName","treatmentPrice","paymentType","initialValues","date","time","roomName","firstName","mobile","treatmentStyle","bodyPartsAndDuration","therapistName","paymentAmount","paymentMethod","values","setValues","therapistOptions","setTherapistOptions","optionsOfBodyPartsAndDuration","setOptionsOfBodyPartsAndDuration","optionsOfTreatmentStyle","handleChange","e","name","value","target","fetchTherapist","then","data","push","toString","fetchBodyParts","list","fetchPrice","treatmentBodyPart","treatmentDuration","parts","split","price","handleCheck","Set","checked","add","delete","changeVisibility","unmountComponentAtNode","document","getElementById","handleSubmit","preventDefault","newTime","slice","newValues","res","status","hydrate","setTimeout","handleDelete","role","closeIcon","includes"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport {\n  Button,\n  Grid,\n  IconButton,\n  TextField,\n  FormControl,\n  FormGroup,\n  Checkbox,\n  FormLabel,\n  FormControlLabel,\n} from '@material-ui/core';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport closeIcon from \"../../assets/images/x-circle.svg\";\nimport Select from './Select';\nimport {\n  getTherapist,\n  getBodyPartsAndDurationData,\n  deleteService,\n} from '../../api/updateAppointment-api';\nimport { getDefaultPrice, updateSubmit } from '../../api/newAppointment-api';\nimport './EditAppointmentForm.scss';\nimport BookingConfirm from \n'../../pages/WorksheetPage/Components/Worksheet/Components/BookingConfirm';\nimport DeleteConfirm from '../../pages/WorksheetPage/Components/Worksheet/Components/DeleteConfirm';\nimport { theme } from '../../colour';\n\nconst EditAppointmentForm = (props) => {\n  const {\n    startDate,\n    startTime,\n    roomId,\n    refreshPage,\n    serviceId,\n    bodyParts,\n    serviceType,\n    therapist,\n    mobileNumber,\n    customerName,\n    treatmentPrice,\n    paymentType,\n  } = props;\n\n  const initialValues = {\n    date: startDate,\n    time: startTime,\n    roomName: roomId,\n    firstName: customerName,\n    mobile: mobileNumber,\n    treatmentStyle: serviceType,\n    bodyPartsAndDuration: bodyParts,\n    therapistName: therapist,\n    paymentAmount: treatmentPrice,\n    paymentMethod: paymentType,\n  };\n\n  const [values, setValues] = useState(initialValues);\n  const [therapistOptions, setTherapistOptions] = useState([therapist]);\n  const [optionsOfBodyPartsAndDuration, setOptionsOfBodyPartsAndDuration] = useState([bodyParts]);\n  const optionsOfTreatmentStyle = ['Dry', 'Oil', 'Deep Tissue'];\n  const {\n    date,\n    time,\n    roomName,\n    firstName,\n    mobile,\n    treatmentStyle,\n    bodyPartsAndDuration,\n    therapistName,\n    paymentAmount,\n    paymentMethod,\n  } = values;\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setValues({\n      ...values,\n      [name]: value,\n    });\n  };\n\n  const fetchTherapist = () => {\n    getTherapist(date, time, bodyPartsAndDuration, serviceId).then((data) => {\n      data.push(therapist.toString());\n      setTherapistOptions([...data]);\n    });\n  };\n\n  const fetchBodyParts = () => {\n    getBodyPartsAndDurationData(date, time, therapistName, roomName, serviceId).then((list) =>\n      setOptionsOfBodyPartsAndDuration([...list]),\n    );\n  };\n\n  const fetchPrice = () => {\n    let treatmentBodyPart = '';\n    let treatmentDuration = '';\n    if (bodyPartsAndDuration && bodyPartsAndDuration !== 'None') {\n      const parts = bodyPartsAndDuration.split('--');\n      treatmentBodyPart = parts[0];\n      treatmentDuration = parts[1].split(' ')[0];\n      getDefaultPrice(treatmentBodyPart, treatmentDuration, treatmentStyle).then((price) =>\n        setValues({ ...values, paymentAmount: price }),\n      );\n    }\n  };\n\n  const handleCheck = (e) => {\n    let data = new Set(paymentMethod);\n    if (e.target.checked) {\n      data.add(e.target.value);\n    } else {\n      data.delete(e.target.value);\n    }\n    data = [...data];\n    setValues({ ...values, paymentMethod: data });\n  };\n\n  const changeVisibility = () => {\n    ReactDOM.unmountComponentAtNode(document.getElementById('appointPage'));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const newTime = values.time.slice(0, 5);\n    const newValues = { ...values, time: newTime };\n    updateSubmit(newValues, serviceId).then((res) => {\n      if (res.status === 200) {\n        refreshPage({ date: startDate });\n        ReactDOM.unmountComponentAtNode(document.getElementById('appointPage'));\n        ReactDOM.hydrate(<BookingConfirm data={newValues} />, document.getElementById('alertPage'));\n        setTimeout(\n          () => ReactDOM.unmountComponentAtNode(document.getElementById('alertPage')),\n          1000,\n        );\n      }\n    });\n  };\n\n  const handleDelete = (e) => {\n    e.preventDefault();\n    const role = 'staff';\n    deleteService(serviceId, role).then((res) => {\n      if (res.status === 200) {\n        refreshPage({ date: startDate });\n        ReactDOM.unmountComponentAtNode(document.getElementById('appointPage'));\n        ReactDOM.hydrate(<DeleteConfirm />, document.getElementById('alertPage'));\n        setTimeout(\n          () => ReactDOM.unmountComponentAtNode(document.getElementById('alertPage')),\n          1000,\n        );\n      }\n    });\n  };\n\n  return (\n    <div className=\"popupContainer\">\n      <ThemeProvider theme={theme}>\n        <div className=\"popupContainer-header\">\n          <FormLabel>\n            <p>Edit Appointment</p>\n          </FormLabel>\n          <IconButton className=\"IconButton\" size=\"small\" onClick={changeVisibility}>\n            <img src={closeIcon} alt=\"close button\" />\n          </IconButton>\n        </div>\n        <div className=\"popupContainer-body\">\n          <form onSubmit={handleSubmit} className=\"popupContainer-body__form\">\n            <div className=\"popupContainer-body__form--01\">\n              <Grid container direction=\"row\" spacing={2}>\n                <Grid item xs={6}>\n                  <TextField\n                    label=\"Date\"\n                    type=\"date\"\n                    name=\"date\"\n                    value={date}\n                    onChange={handleChange}\n                    variant=\"outlined\"\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <TextField\n                    label=\"Time\"\n                    name=\"time\"\n                    type=\"time\"\n                    value={time}\n                    onChange={handleChange}\n                    variant=\"outlined\"\n                    fullWidth\n                  />\n                </Grid>\n              </Grid>\n            </div>\n\n            <div className=\"popupContainer-body__form--02\">\n              <Grid container direction=\"row\" spacing={2}>\n                <Grid item xs={4}>\n                  <FormControl fullWidth>\n                    <TextField\n                      label=\"Room\"\n                      name=\"roomName\"\n                      value={roomName}\n                      disabled\n                      onChange={handleChange}\n                      variant=\"outlined\"\n                      fullWidth\n                    />\n                  </FormControl>\n                </Grid>\n\n                <Grid item xs={4}>\n                  <FormControl fullWidth>\n                    <Select\n                      label=\"Service Type\"\n                      name=\"treatmentStyle\"\n                      value={treatmentStyle}\n                      onChange={handleChange}\n                      options={optionsOfTreatmentStyle}\n                    />\n                  </FormControl>\n                </Grid>\n\n                <Grid item xs={4}>\n                  <FormControl fullWidth>\n                    <Select\n                      label=\"Body Parts\"\n                      name=\"bodyPartsAndDuration\"\n                      value={bodyPartsAndDuration}\n                      onChange={handleChange}\n                      onFocus={fetchBodyParts}\n                      onBlur={fetchPrice}\n                      options={optionsOfBodyPartsAndDuration}\n                    />\n                  </FormControl>\n                </Grid>\n              </Grid>\n            </div>\n\n            <div className=\"popupContainer-body__form--03\">\n              <Grid container direction=\"row\" spacing={2}>\n                <Grid item xs={6}>\n                  <FormControl fullWidth>\n                    <Select\n                      label=\"Therapist\"\n                      name=\"therapistName\"\n                      value={therapistName}\n                      onFocus={fetchTherapist}\n                      onChange={handleChange}\n                      options={therapistOptions}\n                    />\n                  </FormControl>\n                </Grid>\n\n                <Grid item xs={6}>\n                  <TextField\n                    label=\"Price\"\n                    name=\"amount\"\n                    value={paymentAmount}\n                    disabled\n                    onChange={handleChange}\n                    variant=\"outlined\"\n                    fullWidth\n                  />\n                </Grid>\n              </Grid>\n            </div>\n\n            <div className=\"popupContainer-body__form--04\">\n              <Grid container direction=\"row\" spacing={2}>\n                <Grid item xs={6}>\n                  <TextField\n                    label=\"Customer Name\"\n                    name=\"firstName\"\n                    value={firstName}\n                    onChange={handleChange}\n                    variant=\"outlined\"\n                    fullWidth\n                  />\n                </Grid>\n                <Grid item xs={6}>\n                  <TextField\n                    label=\"Mobile Number\"\n                    name=\"mobile\"\n                    value={mobile}\n                    onChange={handleChange}\n                    variant=\"outlined\"\n                    fullWidth\n                  />\n                </Grid>\n              </Grid>\n            </div>\n          </form>\n          <div className=\"popupContainer-bottom\">\n            <div className=\"popupContainer-bottom--01\">\n              <FormControl>\n                <FormLabel>\n                  <p>Payment Method</p>\n                </FormLabel>\n                <FormGroup row>\n                  <FormControlLabel\n                    control={(\n                      <Checkbox\n                        value=\"card\"\n                        checked={!!paymentMethod.includes('card')}\n                        onChange={handleCheck}\n                        name=\"card\"\n                      />\n                    )}\n                    label={(\n                      <div>\n                        <h4>Card</h4>\n                      </div>\n                    )}\n                  />\n                  <FormControlLabel\n                    control={(\n                      <Checkbox\n                        value=\"cash\"\n                        checked={!!paymentMethod.includes('cash')}\n                        onChange={handleCheck}\n                        name=\"cash\"\n                      />\n                    )}\n                    label={(\n                      <div>\n                        <h4>Cash</h4>\n                      </div>\n                    )}\n                  />\n                  <FormControlLabel\n                    control={(\n                      <Checkbox\n                        value=\"healthFund\"\n                        checked={!!paymentMethod.includes('healthFund')}\n                        onChange={handleCheck}\n                        name=\"healthFund\"\n                      />\n                    )}\n                    label={(\n                      <div>\n                        <h4>Health Fund</h4>\n                      </div>\n                    )}\n                  />\n                  <FormControlLabel\n                    control={(\n                      <Checkbox\n                        value=\"voucher\"\n                        checked={!!paymentMethod.includes('voucher')}\n                        onChange={handleCheck}\n                        name=\"voucher\"\n                      />\n                    )}\n                    label={(\n                      <div>\n                        <h4>Voucher</h4>\n                      </div>\n                    )}\n                  />\n                  <FormControlLabel\n                    control={(\n                      <Checkbox\n                        value=\"discount\"\n                        checked={!!paymentMethod.includes('discount')}\n                        onChange={handleCheck}\n                        name=\"discount\"\n                      />\n                    )}\n                    label={(\n                      <div>\n                        <h4>Discount</h4>\n                      </div>\n                    )}\n                  />\n                </FormGroup>\n              </FormControl>\n            </div>\n            <div className=\"popupContainer-bottom--02\">\n              <Button variant=\"contained\" color=\"primary\" type=\"submit\" onClick={handleDelete}>\n                Delete\n              </Button>\n              <Button variant=\"contained\" color=\"primary\" type=\"submit\" onClick={handleSubmit}>\n                Submit\n              </Button>\n            </div>\n          </div>\n        </div>\n      </ThemeProvider>\n    </div>\n  );\n};\n\nexport default EditAppointmentForm;\n"]},"metadata":{},"sourceType":"module"}